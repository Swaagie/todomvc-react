(this["webpackJsonptodomvc-react"]=this["webpackJsonptodomvc-react"]||[]).push([[0],{10:function(e,t,o){e.exports=o(22)},22:function(e,t,o){"use strict";o.r(t);var a={};o.r(a),o.d(a,"onLoad",(function(){return S})),o.d(a,"onCreate",(function(){return T})),o.d(a,"onRemove",(function(){return _})),o.d(a,"onUpdate",(function(){return w})),o.d(a,"onCompleteAll",(function(){return L})),o.d(a,"onClearCompleted",(function(){return D}));var n={};o.r(n),o.d(n,"onFilterSelect",(function(){return R}));var s=o(0),l=o.n(s),r=o(2),c=(o(15),o(4)),d=o(1);const i="all",p="active",m="completed";var u=o(24);const h="LOAD",E="CREATE",f="REMOVE",C="UPDATE_TODO",g="COMPLETE_ALL",v="CLEAR_COMPLETED",b="SELECT_FILTER";function y(e){return e.filter(e=>e.completed)}function k(e){return e.filter(e=>!e.completed)}function N(e,t){switch(t){case i:return[...e];case m:return y(e);case p:return k(e);default:return[...e]}}const O=e=>e.length&&y(e).length===e.length,S=e=>({type:h,todos:e}),T=e=>({type:E,name:e}),_=e=>({type:f,id:e}),w=e=>({type:C,values:e}),L=()=>({type:g}),D=()=>({type:v}),R=e=>({type:b,filter:e}),A=Object(d.b)({todos:(e=[],t)=>{switch(t.type){case h:return[...t.todos];case E:return[...e,{id:Object(u.a)(),name:t.name,completed:!1}];case C:return e.map(e=>e.id===t.values.id?{...e,...t.values}:e);case f:return e.filter(e=>e.id!==t.id);case g:return e.map(t=>({...t,completed:!O(e)}));case v:return k(e);default:return e}},filter:(e=i,t)=>{switch(t.type){case b:return t.filter;default:return e}}}),U={...a,...n},x=e=>({todos:e.todos,filter:e.filter,itemsLeft:k(e.todos).length,completedCount:y(e.todos).length,visibleTodos:N(e.todos,e.filter),areAllCompleted:e.todos.length&&e.todos.every(e=>e.completed)}),I=e=>Object(d.a)(U,e),j=e=>Object(c.b)(x,I)(e),M=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),F={todos:[],filter:i};class J{static loadTodos(){return JSON.parse(window.localStorage.getItem("todoapp_todos")||"[]")}static storeTodos(e){window.localStorage.setItem("todoapp_todos",JSON.stringify(e))}}class P extends s.Component{constructor(...e){super(...e),this.state={name:""}}handleChange(e){this.setState({name:e.target.value})}handleSubmit(e){"Enter"===e.key&&(this.props.onCreate(this.state.name),this.setState({name:""}))}render(){return l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",value:this.state.name,onInput:e=>this.handleChange(e),onKeyUp:e=>this.handleSubmit(e),onChange:()=>{},"data-testid":"todo-create"}))}}const V=j(P);var X=o(3),B=o.n(X);class q extends s.Component{constructor(...e){super(...e),this.state={editing:!1,name:""}}componentDidMount(){this.setState({name:this.props.todo.name})}handleEdit(){this.setState({editing:!0})}handleCompleted(){this.props.onUpdate({id:this.props.todo.id,completed:!this.props.todo.completed})}handleRemove(){this.props.onRemove(this.props.todo.id)}handleChange(e){this.setState({name:e.target.value})}handleBlur(){this.props.onUpdate({id:this.props.todo.id,name:this.state.name}),this.setState({editing:!1})}render(){const{name:e,completed:t}=this.props.todo;return l.a.createElement("li",{className:B()({completed:t,editing:this.state.editing}),"data-testid":"todo-item"},l.a.createElement("div",{className:"view"},l.a.createElement("input",{className:"toggle",type:"checkbox",checked:t,onChange:()=>this.handleCompleted()}),l.a.createElement("label",{onDoubleClick:()=>this.handleEdit(),"data-testid":"todo-name"},e),l.a.createElement("button",{className:"destroy",onClick:()=>this.handleRemove(),"data-testid":"todo-remove"})),this.state.editing&&l.a.createElement("input",{className:"edit",value:this.state.name,onInput:e=>this.handleChange(e),onBlur:()=>this.handleBlur()}))}}class K extends s.Component{render(){return l.a.createElement("section",{className:"main"},l.a.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:this.props.areAllCompleted,readOnly:!0}),l.a.createElement("label",{htmlFor:"toggle-all",onClick:this.props.onCompleteAll}),l.a.createElement("ul",{className:"todo-list"},this.props.visibleTodos.map(e=>l.a.createElement(q,{key:e.id,todo:e,onUpdate:this.props.onUpdate,onRemove:this.props.onRemove}))))}}const W=j(K);class z extends s.Component{render(){const e=1===this.props.itemsLeft?"item":"items",t=[{key:i,value:"All"},{key:p,value:"Active"},{key:m,value:"Completed"}];return l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"todo-count"},l.a.createElement("strong",null,this.props.itemsLeft),l.a.createElement("span",null," ",e," left")),l.a.createElement("ul",{className:"filters"},t.map(e=>l.a.createElement("li",{key:e.key},l.a.createElement("a",{href:"./#",className:B()({selected:e.key===this.props.filter}),onClick:()=>this.props.onFilterSelect(e.key)},e.value)))),!!this.props.completedCount&&l.a.createElement("button",{className:"clear-completed",onClick:this.props.onClearCompleted},"Clear completed"))}}const G=j(z);class H extends s.Component{render(){return l.a.createElement("footer",{className:"info"},l.a.createElement("p",{"data-testid":"instruction"},"Double-click to edit a todo"),l.a.createElement("p",null,"Created by ",l.a.createElement("a",{href:"http://github.com/blacksonic/"},"blacksonic")),l.a.createElement("p",null,"Part of ",l.a.createElement("a",{href:"http://todomvc.com"},"TodoMVC")))}}class Q extends s.Component{componentDidMount(){this.props.onLoad(J.loadTodos())}componentDidUpdate(){J.storeTodos(this.props.todos)}render(){return l.a.createElement("div",{id:"app"},l.a.createElement("section",{className:"todoapp"},l.a.createElement(V,null),!!this.props.todos.length&&l.a.createElement(W,null),!!this.props.todos.length&&l.a.createElement(G,null)),l.a.createElement(H,null))}}const Y=j(Q);Object(r.render)(l.a.createElement(c.a,{store:((e=F)=>Object(d.c)(A,e,M))()},l.a.createElement(Y,null)),document.querySelector("app-root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.73b38339.chunk.js.map