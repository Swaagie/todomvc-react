(this["webpackJsonptodomvc-react"]=this["webpackJsonptodomvc-react"]||[]).push([[0],{10:function(e,t,o){e.exports=o(22)},22:function(e,t,o){"use strict";o.r(t);var a={};o.r(a),o.d(a,"onLoad",(function(){return O})),o.d(a,"onCreate",(function(){return S})),o.d(a,"onRemove",(function(){return T})),o.d(a,"onUpdate",(function(){return _})),o.d(a,"onCompleteAll",(function(){return w})),o.d(a,"onClearCompleted",(function(){return L}));var n={};o.r(n),o.d(n,"onFilterSelect",(function(){return D}));var s=o(0),l=o.n(s),r=o(2),c=(o(15),o(4)),d=o(1);const i="all",p="active",m="completed",u="LOAD",h="CREATE",E="REMOVE",f="UPDATE_TODO",C="COMPLETE_ALL",g="CLEAR_COMPLETED",v="SELECT_FILTER";var b=o(24);function y(e,t){switch(t){case i:return[...e];case m:return N(e);case p:return k(e);default:return[...e]}}function k(e){return e.filter(e=>!e.completed)}function N(e){return e.filter(e=>e.completed)}const O=e=>({type:u,todos:e}),S=e=>({type:h,name:e}),T=e=>({type:E,id:e}),_=e=>({type:f,values:e}),w=()=>({type:C}),L=()=>({type:g}),D=e=>({type:v,filter:e}),R=Object(d.b)({todos:(e=[],t)=>{switch(t.type){case u:return[...t.todos];case h:return[...e,{id:Object(b.a)(),name:t.name,completed:!1}];case f:return e.map(e=>e.id===t.values.id?{...e,...t.values}:e);case E:return e.filter(e=>e.id!==t.id);case C:const o=e.length&&N(e).length===e.length;return e.map(e=>({...e,completed:!o}));case g:return k(e);default:return e}},filter:(e=i,t)=>{switch(t.type){case v:return t.filter;default:return e}}}),A={...a,...n},U=e=>({todos:e.todos,filter:e.filter,itemsLeft:k(e.todos).length,completedCount:N(e.todos).length,visibleTodos:y(e.todos,e.filter),areAllCompleted:e.todos.length&&e.todos.every(e=>e.completed)}),x=e=>Object(d.a)(A,e),I=e=>Object(c.b)(U,x)(e);class j{static loadTodos(){return JSON.parse(window.localStorage.getItem("todoapp_todos")||"[]")}static storeTodos(e){window.localStorage.setItem("todoapp_todos",JSON.stringify(e))}}class M extends s.Component{constructor(...e){super(...e),this.state={name:""}}handleChange(e){this.setState({name:e.target.value})}handleSubmit(e){"Enter"===e.key&&(this.props.onCreate(this.state.name),this.setState({name:""}))}render(){return l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",value:this.state.name,onInput:e=>this.handleChange(e),onKeyUp:e=>this.handleSubmit(e),onChange:()=>{},"data-testid":"todo-create"}))}}const F=I(M);var J=o(3),P=o.n(J);class V extends s.Component{constructor(...e){super(...e),this.state={editing:!1,name:""}}handleEdit(){this.setState({editing:!0})}handleCompleted(){this.props.onUpdate({id:this.props.todo.id,completed:!this.props.todo.completed})}handleRemove(){this.props.onRemove(this.props.todo.id)}handleChange(e){this.setState({name:e.target.value})}handleBlur(){this.props.onUpdate({id:this.props.todo.id,name:this.state.name}),this.setState({editing:!1})}componentDidMount(){this.setState({name:this.props.todo.name})}render(){const{name:e,completed:t}=this.props.todo;return l.a.createElement("li",{className:P()({completed:t,editing:this.state.editing}),"data-testid":"todo-item"},l.a.createElement("div",{className:"view"},l.a.createElement("input",{className:"toggle",type:"checkbox",checked:t,onChange:()=>this.handleCompleted()}),l.a.createElement("label",{onDoubleClick:()=>this.handleEdit(),"data-testid":"todo-name"},e),l.a.createElement("button",{className:"destroy",onClick:()=>this.handleRemove(),"data-testid":"todo-remove"})),this.state.editing&&l.a.createElement("input",{className:"edit",value:this.state.name,onInput:e=>this.handleChange(e),onBlur:()=>this.handleBlur()}))}}class X extends s.Component{render(){return l.a.createElement("section",{className:"main"},l.a.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:this.props.areAllCompleted,readOnly:!0}),l.a.createElement("label",{htmlFor:"toggle-all",onClick:this.props.onCompleteAll}),l.a.createElement("ul",{className:"todo-list"},this.props.visibleTodos.map(e=>l.a.createElement(V,{key:e.id,todo:e,onUpdate:this.props.onUpdate,onRemove:this.props.onRemove}))))}}const B=I(X);class q extends s.Component{render(){const e=1===this.props.itemsLeft?"item":"items",t=[{key:i,value:"All"},{key:p,value:"Active"},{key:m,value:"Completed"}];return l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"todo-count"},l.a.createElement("strong",null,this.props.itemsLeft),l.a.createElement("span",null," ",e," left")),l.a.createElement("ul",{className:"filters"},t.map(e=>l.a.createElement("li",{key:e.key},l.a.createElement("a",{href:"#",className:P()({selected:e.key===this.props.filter}),onClick:()=>this.props.onFilterSelect(e.key)},e.value)))),!!this.props.completedCount&&l.a.createElement("button",{className:"clear-completed",onClick:this.props.onClearCompleted},"Clear completed"))}}const K=I(q);class W extends s.Component{render(){return l.a.createElement("footer",{className:"info"},l.a.createElement("p",{"data-testid":"instruction"},"Double-click to edit a todo"),l.a.createElement("p",null,"Created by ",l.a.createElement("a",{href:"http://github.com/blacksonic/"},"blacksonic")),l.a.createElement("p",null,"Part of ",l.a.createElement("a",{href:"http://todomvc.com"},"TodoMVC")))}}class z extends s.Component{componentDidMount(){this.props.onLoad(j.loadTodos())}componentDidUpdate(){j.storeTodos(this.props.todos)}render(){return l.a.createElement("div",{id:"app"},l.a.createElement("section",{className:"todoapp"},l.a.createElement(F,null),!!this.props.todos.length&&l.a.createElement(B,null),!!this.props.todos.length&&l.a.createElement(K,null)),l.a.createElement(W,null))}}const G=I(z);Object(r.render)(l.a.createElement(c.a,{store:((e={todos:[],filter:i})=>Object(d.c)(R,e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))()},l.a.createElement(G,null)),document.querySelector("app-root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.7b6eb684.chunk.js.map